<div class="pt-4">
  <div class="form-group flex flex-col mb-2">
    <label for="workspaces" class="text-sm font-medium leading-5 text-gray-700">Workspace</label>
    <div class="mt-2">
      <select id="workspace" name="slackAccessWorkspace"
        class="w-[460px] rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
        required>
        <option hidden disabled selected value> Select </option>
        {% for workspace in each_access.accessRequestData.slackWorkspaceList %}
        <option value="{{workspace}}">{{workspace.workspacename}}</option>
        {% endfor %}
      </select>
    </div>
  </div>
</div>

<script type="text/javascript">
  function slackWorkspaceChange(elem) {
    labelComponents = JSON.parse($('#slack_accessLabel').val());
    if (!labelComponents.length) {
      labelComponents = [{}]
    }
    labelComponents[0]["slackAccessWorkspace"] = elem.value
    $('#slack_accessLabel').val(JSON.stringify(labelComponents));
  }
</script>

<div class="form-group" style="padding-left:1%;">

  <div class="form-group">
    <label class="col-sm-3" for="workspace"
      style="padding-left:15px; font-weight: bolder; min-height:0px; margin-top:10px; font-size:medium; float: left">Workspace:</label>
    <select class="form-control col-sm-3" id="slackWorkspace" name="slackAccessWorkspace"
      onchange="slackWorkspaceChange(this)" required>
      <option hidden disabled selected value> -- select -- </option>
      {% for workspace in each_access.accessRequestData.slackWorkspaceList %}
      <option value="{{workspace}}">{{workspace.workspacename}}</option>
      {% endfor %}
    </select>
  </div>

</div>

<div>
  <label class="col-sm-3" for="reason"
    style="padding-left:15px; font-weight: bolder; min-height:0px; margin-top:10px; font-size:medium;">Reason for
    Access:</label>
  <input type="text" class="form-text1" id="slackReason" name="accessReason" style="width:60%;" maxlength="2024" required></input>
  <input type="hidden" id="slack_accessLabel" value="[]" name="accessLabel">
</div>
